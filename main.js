/* Datalager.no — Main JS | © 2026 IT-FIRMA */
(function(){'use strict';var pb=document.getElementById('pb'),hdr=document.querySelector('header'),tick=false;function onScroll(){if(!tick){requestAnimationFrame(function(){var d=document.documentElement,p=d.scrollTop/(d.scrollHeight-d.clientHeight)*100;if(pb)pb.style.width=Math.min(p,100)+'%';if(hdr)hdr.style.background=scrollY>50?'rgba(6,9,24,.88)':'rgba(6,9,24,.6)';tick=false});tick=true}}window.addEventListener('scroll',onScroll,{passive:true});document.querySelectorAll('.faq-q').forEach(function(q){q.addEventListener('click',function(){var it=this.parentElement,o=it.classList.contains('open');document.querySelectorAll('.faq-item.open').forEach(function(e){e.classList.remove('open')});if(!o)it.classList.add('open')})});var els=document.querySelectorAll('.rv');if('IntersectionObserver'in window){var obs=new IntersectionObserver(function(ent){ent.forEach(function(e){if(e.isIntersecting){e.target.classList.add('v');obs.unobserve(e.target)}})},{threshold:.04,rootMargin:'0px 0px -80px 0px'});els.forEach(function(e){obs.observe(e)})}else{els.forEach(function(e){e.classList.add('v')})}document.querySelectorAll('.fc,.gc,.eco-c').forEach(function(c){c.addEventListener('mousemove',function(e){var r=c.getBoundingClientRect(),x=e.clientX-r.left,y=e.clientY-r.top;c.style.background='radial-gradient(circle 300px at '+x+'px '+y+'px,rgba(79,70,229,.035),rgba(255,255,255,.025) 50%,rgba(255,255,255,.025))'});c.addEventListener('mouseleave',function(){c.style.background=''})});var secs=document.querySelectorAll('section[id]'),navs=document.querySelectorAll('nav a[href^="#"]');if(secs.length&&navs.length){var no=new IntersectionObserver(function(en){en.forEach(function(e){if(e.isIntersecting){var id=e.target.id;navs.forEach(function(l){l.classList.toggle('act',l.getAttribute('href')==='#'+id)})}})},{threshold:.1,rootMargin:'-80px 0px -60% 0px'});secs.forEach(function(s){no.observe(s)})}})();
